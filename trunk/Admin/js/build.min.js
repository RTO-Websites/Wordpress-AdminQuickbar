let globalCssWindow,AdminQuickbar=function(){let a,e,i,t,n,s,o,c,r,d,l,u,p,b,m,h,g,k,f,q,v,C,w,S,y,T=window.document,Q=this;if(void 0===L)var L=jQuery;a=function(){L((function(a){e()})),g(),L(T).on("click",".toggle-quickbar-button",Q.toggleSidebar),L(T).on("click",".admin-quickbar-post-type",Q.togglePostTypes),L(T).on("click",".aqb-tab-button",Q.changeTab),L(T).on("change",".admin-quickbar-keepopen input",(function(a){localStorage.adminQuickbarKeepopen=L(".admin-quickbar-keepopen input").is(":checked")})),L(T).on("change",".admin-quickbar-theme select",Q.changeTheme),L(T).on("change",".admin-quickbar-hide-on-website input",(function(a){localStorage.adminQuickbarHideOnWebsite=L(".admin-quickbar-hide-on-website input").is(":checked")})),L(T).on("change",".admin-quickbar-overlap input",Q.checkOverlap),L(T).on("change",".admin-quickbar-show-trash-option input",Q.checkTrash),L(T).on("change",".admin-quickbar-loadthumbs input",Q.checkThumbs),L(T).on("click",".aqb-icon-swift",Q.checkSwiftCache),L(T).on("click",".aqb-icon-external",Q.openWindow),L(T).on("click",".language-switch .language-flag, .language-switch .language-all",Q.changeLanguageFilter),L(T).on("contextmenu",".aqb-icon",(function(a){a.stopPropagation()})),L(T).on("contextmenu",".admin-quickbar-post",n),L(T).on("click",t),L(T).on("change",".aqm-hide-posttypes",(function(){Q.updateHiddenPostTypes()})),L(T).on("keyup input change","#aqb-search",v),L(T).on("keydown",(function(a){C(a)})),"true"===localStorage.adminQuickbarOverlap&&L("body").addClass("admin-quickbar-is-overlap"),Q.checkTheme()},g=function(){void 0===localStorage.adminQuickbarKeepopen&&(localStorage.adminQuickbarKeepopen="true"),void 0===localStorage.adminQuickbarToggle&&(localStorage.adminQuickbarToggle="true"),void 0===localStorage.adminQuickbarLanguageFilter&&(localStorage.adminQuickbarLanguageFilter="all")},e=function(){S(),p(),"true"===localStorage.adminQuickbarToggle&&"true"===localStorage.adminQuickbarKeepopen&&(L(".admin-quickbar").addClass("toggle"),L("body").addClass("admin-quickbar-visible")),"true"===localStorage.adminQuickbarKeepopen&&L(".admin-quickbar-keepopen input").prop("checked",!0),"true"===localStorage.adminQuickbarHideOnWebsite&&L(".admin-quickbar-hide-on-website input").prop("checked",!0),"true"===localStorage.adminQuickbarLoadthumbs&&(L(".admin-quickbar-loadthumbs input").prop("checked",!0),Q.loadThumbs()),"true"===localStorage.adminQuickbarOverlap&&(L(".admin-quickbar-overlap input").prop("checked",!0),L("body").addClass("admin-quickbar-is-overlap")),"true"===localStorage.adminQuickbarShowTrash&&(L(".admin-quickbar-show-trash input").prop("checked",!0),L("body").addClass("admin-quickbar-show-trash")),Q.checkTheme(),Q.initHiddenPostTypes(),Q.setLanguageSwitchActiveClass(),Q.hideByLanguage();let a=L("#elementor-preview-iframe");a.length&&a.on("load",(function(){L(a.get(0).contentDocument).on("keydown",(function(a){C(a)}))})),v()},Q.checkTheme=function(){switch(localStorage.adminQuickbarTheme){case"light":L(".admin-quickbar-theme select").val("light"),L("body").removeClass("admin-quickbar-is-darkmode");break;case"dark":L(".admin-quickbar-theme select").val("dark"),L("body").addClass("admin-quickbar-is-darkmode");break;case"auto":default:L(".admin-quickbar-theme select").val("auto");let a=window.matchMedia("(prefers-color-scheme: dark)").matches,e=window.matchMedia("(prefers-color-scheme: light)").matches,i=window.matchMedia("(prefers-color-scheme: no-preference)").matches,t=!a&&!e&&!i;a||t||i?L("body").addClass("admin-quickbar-is-darkmode"):L("body").removeClass("admin-quickbar-is-darkmode")}localStorage.adminQuickbarTheme||"true"!==localStorage.adminQuickbarDarkmode||L("body").addClass("admin-quickbar-is-darkmode")},Q.initHiddenPostTypes=function(){void 0===localStorage.adminQuickbarHiddenPostTypes&&(localStorage.adminQuickbarHiddenPostTypes="[]");let a=JSON.parse(localStorage.adminQuickbarHiddenPostTypes);L(".aqm-hide-posttypes").val(a),Q.hidePostTypes()},Q.updateHiddenPostTypes=function(){localStorage.adminQuickbarHiddenPostTypes=JSON.stringify(L(".aqm-hide-posttypes").val()),Q.hidePostTypes()},Q.hidePostTypes=function(){let a=JSON.parse(localStorage.adminQuickbarHiddenPostTypes);L(".admin-quickbar-postlist").removeClass("hidden");for(let e in a)L('.admin-quickbar-postlist[data-post-type="'+a[e]+'"]').addClass("hidden")},Q.changeLanguageFilter=function(a){let e=L(a.currentTarget).data("language-code");localStorage.adminQuickbarLanguageFilter=e,Q.setLanguageSwitchActiveClass(),Q.hideByLanguage()},Q.hideByLanguage=function(){let a=localStorage.adminQuickbarLanguageFilter;L(".admin-quickbar-post").removeClass("hidden-by-language"),"all"!=a&&L(".admin-quickbar-post .language-flag").each((function(e,i){(i=L(i)).data("language-code")!==a&&i.closest(".admin-quickbar-post").addClass("hidden-by-language")}))},Q.setLanguageSwitchActiveClass=function(){let a=localStorage.adminQuickbarLanguageFilter;L(".admin-quickbar .language-switch .language-all,.admin-quickbar .language-switch .language-flag").removeClass("active"),L('.admin-quickbar .language-switch [data-language-code="'+a+'"]').addClass("active")},Q.changeTab=function(a){let e=L(a.currentTarget),i=e.data("tab");L(".aqb-tab-button, .aqb-tab").removeClass("active"),e.addClass("active"),L(".aqb-tab-"+i).addClass("active")},n=function(a){a.preventDefault();let e=L(a.currentTarget),i=L(".admin-quickbar-contextmenu"),t=L(".admin-quickbar-inner").scrollTop()+e.offset().top-L(".admin-quickbar").offset().top+35;i.data("postid",e.data("postid")),s(e.data("contextmenu")),i.css({top:t+"px"}),i.addClass("open")},s=function(a){let e=L(".admin-quickbar-contextmenu");e.html("");for(let i in a)switch(i){case"favorite":e.append(r(a[i]));break;case"copy":e.append(o(a[i]));break;case"swift":e.append(c(a[i]));break;case"trash":e.append(d(a[i]));break;case"rename":e.append(l(a[i]))}},c=function(a){let e,i=L('<div class="item has-sub item-swift" />');L(".admin-quickbar-contextmenu");return i.append('<span class="label">Swift</span>'),e=L('<div class="item subitem" />'),e.addClass("aqb-icon aqb-icon-swift"),a.inCache&&e.addClass("is-in-cache"),e.prop("title","Refresh swift cache"),e.data("url",a.permalink),i.append(e),i},d=function(a){let e,i=L('<div class="item has-sub item-trash" />'),t=L(".admin-quickbar-contextmenu").data("postid");return i.append('<span class="label">(Un)Trash</span>'),e=L('<div class="item subitem" />'),e.addClass("aqb-icon aqb-icon-trash"),e.prop("title","(Un)Trash"),i.on("click",(function(a){k(a,t)})),i.append(e),i},l=function(a){let e,i=L('<div class="item has-sub item-rename" />'),t=L(".admin-quickbar-contextmenu").data("postid");return i.append('<span class="label">Rename</span>'),e=L('<div class="item subitem" />'),e.addClass("aqb-icon aqb-icon-rename"),e.prop("title","Rename"),i.on("click",(function(a){q(a,t)})),i.append(e),i},r=function(a){let e,i=L('<div class="item has-sub item-favorite" />'),t=L(".admin-quickbar-contextmenu").data("postid"),n=L(".admin-quickbar-post[data-postid="+t+"]");return i.append('<span class="label">Favorite</span>'),e=L('<div class="item subitem aqb-icon" />'),e.addClass("aqb-icon aqb-icon-favorite"),n.hasClass("is-favorite")?(e.addClass("aqb-icon-favorite-alt"),e.prop("title","Remove from favorites"),i.on("click",(function(a){b(t)}))):(e.addClass("aqb-icon-favorite"),e.prop("title","Add to favorites"),i.on("click",(function(a){m(t)}))),i.append(e),i},u=function(){let a=[];L(".admin-quickbar-post.is-favorite").each((function(e,i){-1===a.indexOf(L(i).data("postid"))&&a.push(L(i).data("postid"))})),localStorage.adminQuickbarFavorites=JSON.stringify(a)},v=function(a){let e=L("#aqb-search").val().toLowerCase(),i=L(".admin-quickbar-post");i.removeClass("aqb-search-hidden"),i.each((function(a,i){let t=L(i),n=t.find(".label").text().toLowerCase(),s=t.data("postid");-1===n.indexOf(e)&&s!==parseInt(e)&&t.addClass("aqb-search-hidden")})),w(),e.length||S()},S=function(){let a=Q.getPostListStorage(),e=L(".admin-quickbar-postlist");e.removeClass("show-list"),e.each((function(e,i){a[L(i).data("post-type")]&&L(i).addClass("show-list")}))},w=function(){let a=L(".admin-quickbar-postlist");a.removeClass("aqb-search-hidden"),a.each((function(a,e){let i=L(e);i.find(".admin-quickbar-post:not(.aqb-search-hidden)").length?i.addClass("show-list"):i.addClass("aqb-search-hidden")}))},C=function(a){if(!a.ctrlKey&&!a.metaKey||!a.shiftKey)return;let e=a.key?a.key.toLowerCase():"";if(!e&&a.keyCode)switch(a.keyCode){case 60:case 220:e="<";break;case 70:e="f"}switch(e){case"f":L("body").hasClass("admin-quickbar-visible")||Q.toggleSidebar(),L("#aqb-search").focus();break;case">":case"<":case"|":a.preventDefault(),Q.toggleSidebar()}},p=function(){let a=[];void 0!==localStorage.adminQuickbarFavorites&&(a=JSON.parse(localStorage.adminQuickbarFavorites));for(let e in a){let i=L(".admin-quickbar-post[data-postid="+a[e]+"]");i.addClass("is-favorite");let t=i.first().clone();t.css({marginLeft:""}),L(".aqb-favorites .admin-quickbar-postlist-inner").append(t)}},b=function(a){let e=L(".admin-quickbar-post[data-postid="+a+"]"),i=L(".aqb-favorites .admin-quickbar-post[data-postid="+a+"]");e.removeClass("is-favorite"),u(),i.remove()},m=function(a){let e=L(".admin-quickbar-post[data-postid="+a+"]"),i=L(".aqb-favorites .admin-quickbar-post[data-postid="+a+"]");e.addClass("is-favorite"),u(),i.length||(i=e.first().clone(),i.css({marginLeft:""}),L(".aqb-favorites .admin-quickbar-postlist-inner").append(i))},k=function(a,e){let i=L(".admin-quickbar-post[data-postid="+e+"]"),t=i.data("trash-url"),n=i.data("untrash-url");i.hasClass("post-status-trash")?(L.ajax(n),i.addClass("post-status-publish").removeClass("post-status-trash")):(L.ajax(t),i.addClass("post-status-trash").removeClass("post-status-publish"))},q=function(a,e){let i=L(".admin-quickbar-post[data-postid="+e+"]").find(".aqb-post-title"),t=L('<span class="save-rename" />');t.on("click",(function(a){f(e,i.text())})),i.addClass("is-renaming"),i.prop("contenteditable",!0),i.parent().find(".save-rename").remove(),i.after(t)},f=function(a,e){L.post({url:ajaxurl,data:{action:"aqbRenamePost",postid:a,title:e}}),L(".save-rename").remove(),L(".aqb-post-title").prop("contenteditable",!1),L(".aqb-post-title").removeClass("is-renaming")},o=function(a){let e,i,t=L('<div class="item has-sub item-copy" />');t.append('<span class="label">Copy</span>');for(let n in a)a[n]&&(i=L('<div class="item subitem" />'),i.on("click",(function(a){a.stopPropagation();let e=L(a.currentTarget).find("input");e.focus(),e.select(),document.execCommand("copy")})),i.addClass("item-"+n),i.addClass("aqb-icon aqb-icon-"+n),y(i,n),e=L('<input type="text" class="hidden-copy-input" />'),e.val(a[n]),i.append(e),t.append(i));return t},t=function(){L(".admin-quickbar-contextmenu").removeClass("open")},y=function(a,e){let i;switch(e){case"id":i="ID";break;case"wordpress":i="WP-Edit-URL";break;case"elementor":i="Elementor-URL";break;case"shortcode":i="Elementor Shortcode";break;case"website":i="Website-URL";break;default:i=e.charAt(0).toUpperCase()+e.slice(1)}a.prop("title",i)},Q.checkOverlap=function(a){localStorage.adminQuickbarOverlap=L(".admin-quickbar-overlap input").is(":checked"),"true"===localStorage.adminQuickbarOverlap?L("body").addClass("admin-quickbar-is-overlap"):L("body").removeClass("admin-quickbar-is-overlap")},Q.checkTrash=function(a){localStorage.adminQuickbarShowTrash=L(".admin-quickbar-show-trash-option input").is(":checked"),"true"===localStorage.adminQuickbarShowTrash?L("body").addClass("admin-quickbar-show-trash"):L("body").removeClass("admin-quickbar-show-trash")},Q.changeTheme=function(a){localStorage.adminQuickbarTheme=L(".admin-quickbar-theme select").val(),Q.checkTheme()},Q.checkThumbs=function(a){localStorage.adminQuickbarLoadthumbs=L(".admin-quickbar-loadthumbs input").is(":checked"),"true"===localStorage.adminQuickbarLoadthumbs?(L(".admin-quickbar-loadthumbs input").prop("checked",!0),Q.loadThumbs()):L(".admin-quickbar .wp-post-image").prop("src","")},Q.checkSwiftCache=function(a){a.preventDefault(),a.stopPropagation(),L(a.currentTarget).hasClass("is-in-cache")?Q.refreshSwiftCache(a):h(a)},Q.toggleSidebar=function(){L(".admin-quickbar").toggleClass("toggle"),L("body").toggleClass("admin-quickbar-visible"),localStorage.adminQuickbarToggle=L(".admin-quickbar").hasClass("toggle")},Q.togglePostTypes=function(a){L(a.target).parent().toggleClass("show-list"),i()},Q.refreshSwiftCache=function(a){a.preventDefault();let e=L(a.currentTarget),i=e.data("url");e.addClass("loading"),jQuery.post(ajaxurl,{action:"swift_performance_single_clear_cache",_wpnonce:e.closest(".admin-quickbar, .admin-quickbar-jumpicons").data("swift-nonce"),url:i},(function(i){e.removeClass("is-in-cache"),h(a)}))},h=function(a){a.preventDefault();let e=L(a.currentTarget),i=e.data("url");e.addClass("loading"),jQuery.post(ajaxurl,{action:"swift_performance_single_prebuild",_wpnonce:e.closest(".admin-quickbar").data("swift-nonce"),url:i},(function(a){"success"===(a="string"==typeof a?JSON.parse(a):a).status&&e.addClass("is-in-cache"),e.removeClass("loading")}))},i=function(){let a={};L(".admin-quickbar-postlist").each((function(e,i){a[L(i).data("post-type")]=L(i).hasClass("show-list")})),localStorage.postList=JSON.stringify(a)},Q.getPostListStorage=function(){return localStorage.postList&&"string"==typeof localStorage.postList||(localStorage.postList="{}"),JSON.parse(localStorage.postList)},Q.loadThumbs=function(){L(".admin-quickbar .wp-post-image").each((function(a,e){L(e).prop("src",L(e).data("src"))}))},Q.openWindow=function(){let a=L(this).next(".dashicons-edit").attr("href")+"&noaqb";registerCssWindow(a)},a()};window.adminQuickbarInstance=new AdminQuickbar,registerCssWindow=function(a){!globalCssWindow||globalCssWindow.closed?globalCssWindow=window.open(a,"rto_wp_adminQuickbar","width=700,height=500,left=200,top=100"):globalCssWindow.location.href!==a&&globalCssWindow.location.assign(a),globalCssWindow.focus()};