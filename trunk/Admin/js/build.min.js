let AdminQuickbarActions={addPageToSwiftCache:function(a){a.preventDefault();let e=$(a.currentTarget),i=e.data("url");e.addClass("loading"),jQuery.post(ajaxurl,{action:"swift_performance_single_prebuild",_wpnonce:e.closest(".admin-quickbar").data("swift-nonce"),url:i},(function(a){"success"===(a="string"==typeof a?JSON.parse(a):a).status&&e.addClass("is-in-cache"),e.removeClass("loading")}))},refreshSwiftCache:function(a){a.preventDefault();let e=$(a.currentTarget),i=e.data("url");e.addClass("loading"),jQuery.post(ajaxurl,{action:"swift_performance_single_clear_cache",_wpnonce:e.closest(".admin-quickbar, .admin-quickbar-jumpicons").data("swift-nonce"),url:i},(function(i){e.removeClass("is-in-cache"),AdminQuickbarActions.addPageToSwiftCache(a)}))},checkSwiftCache:function(a){a.preventDefault(),a.stopPropagation(),$(a.currentTarget).hasClass("is-in-cache")?AdminQuickbarActions.refreshSwiftCache(a):AdminQuickbarActions.addPageToSwiftCache(a)},addToFavorites:function(a){let e=$(".admin-quickbar-post[data-postid="+a+"]"),i=$(".aqb-favorites .admin-quickbar-post[data-postid="+a+"]");e.addClass("is-favorite"),AdminQuickbarActions.buildFavoriteStorage(),i.length||(i=e.first().clone(),i.css({marginLeft:""}),$(".aqb-favorites .admin-quickbar-postlist-inner").append(i))},removeFromFavorites:function(a){let e=$(".admin-quickbar-post[data-postid="+a+"]"),i=$(".aqb-favorites .admin-quickbar-post[data-postid="+a+"]");e.removeClass("is-favorite"),AdminQuickbarActions.buildFavoriteStorage(),i.remove()},buildFavoriteStorage:function(){let a=[];$(".admin-quickbar-post.is-favorite").each((function(e,i){-1===a.indexOf($(i).data("postid"))&&a.push($(i).data("postid"))})),localStorage.adminQuickbarFavorites=JSON.stringify(a)},trashPost:function(a,e){let i=$(".admin-quickbar-post[data-postid="+e+"]"),t=i.data("trash-url"),n=i.data("untrash-url");i.hasClass("post-status-trash")?($.ajax(n),i.addClass("post-status-publish").removeClass("post-status-trash")):($.ajax(t),i.addClass("post-status-trash").removeClass("post-status-publish"))},startRenamePost:function(a,e){let i=$(".admin-quickbar-post[data-postid="+e+"]").find(".aqb-post-title"),t=$('<span class="save-rename" />');$(".admin-quickbar .save-rename").remove(),$(".admin-quickbar .aqb-post-title").removeClass("is-renaming").prop("contenteditable",!1),t.on("click",(function(a){AdminQuickbarActions.saveRenamePost(e,i.text())})),i.addClass("is-renaming"),i.prop("contenteditable",!0),i.parent().find(".save-rename").remove(),i.after(t),i.focus()},saveRenamePost:function(a,e){$.post({url:ajaxurl,data:{action:"aqbRenamePost",postid:a,title:e}}),$(".save-rename").remove(),$(".aqb-post-title").prop("contenteditable",!1),$(".aqb-post-title").removeClass("is-renaming")},openWindow:function(){let a=$(this).next(".dashicons-edit").attr("href")+"&noaqb";AdminQuickbarActions.registerCssWindow(a)},registerCssWindow:function(a){!window.globalCssWindow||window.globalCssWindow.closed?window.globalCssWindow=window.open(a,"rto_wp_adminQuickbar","width=700,height=500,left=200,top=100"):window.globalCssWindow.location.href!==a&&window.globalCssWindow.location.assign(a),window.globalCssWindow.focus()}},AdminQuickbar=function(){let a,e,i,t,n,o,s,c,r=window.document,d=this;a=function(){$((function(a){e()})),o(),$(r).on("click",".toggle-quickbar-button",d.toggleSidebar),$(r).on("click",".admin-quickbar-post-type",d.togglePostTypes),$(r).on("click",".aqb-tab-button",d.changeTab),$(r).on("change",".admin-quickbar-keepopen input",(function(a){localStorage.adminQuickbarKeepopen=$(".admin-quickbar-keepopen input").is(":checked")})),$(r).on("change",".admin-quickbar-theme select",d.changeTheme),$(r).on("change",".admin-quickbar-hide-on-website input",(function(a){localStorage.adminQuickbarHideOnWebsite=$(".admin-quickbar-hide-on-website input").is(":checked")})),$(r).on("change",".admin-quickbar-overlap input",d.checkOverlap),$(r).on("change",".admin-quickbar-show-trash-option input",d.checkTrash),$(r).on("change",".admin-quickbar-loadthumbs input",d.checkThumbs),$(r).on("click",".language-switch .language-flag, .language-switch .language-all",d.changeLanguageFilter),$(r).on("change",".aqm-hide-posttypes",(function(){d.updateHiddenPostTypes()})),$(r).on("keydown",(function(a){c(a)})),"true"===localStorage.adminQuickbarOverlap&&$("body").addClass("admin-quickbar-is-overlap"),d.checkTheme(),i=new AdminQuickbarContextMenu,s=new AdminQuickbarSearch},o=function(){void 0===localStorage.adminQuickbarKeepopen&&(localStorage.adminQuickbarKeepopen="true"),void 0===localStorage.adminQuickbarToggle&&(localStorage.adminQuickbarToggle="true"),void 0===localStorage.adminQuickbarLanguageFilter&&(localStorage.adminQuickbarLanguageFilter="all")},e=function(){n(),"true"===localStorage.adminQuickbarToggle&&"true"===localStorage.adminQuickbarKeepopen&&($(".admin-quickbar").addClass("toggle"),$("body").addClass("admin-quickbar-visible")),"true"===localStorage.adminQuickbarKeepopen&&$(".admin-quickbar-keepopen input").prop("checked",!0),"true"===localStorage.adminQuickbarHideOnWebsite&&$(".admin-quickbar-hide-on-website input").prop("checked",!0),"true"===localStorage.adminQuickbarLoadthumbs&&($(".admin-quickbar-loadthumbs input").prop("checked",!0),d.loadThumbs()),"true"===localStorage.adminQuickbarOverlap&&($(".admin-quickbar-overlap input").prop("checked",!0),$("body").addClass("admin-quickbar-is-overlap")),"true"===localStorage.adminQuickbarShowTrash&&($(".admin-quickbar-show-trash-option input").prop("checked",!0),$("body").addClass("admin-quickbar-show-trash")),d.checkTheme(),d.initHiddenPostTypes(),d.setLanguageSwitchActiveClass(),d.hideByLanguage();let a=$("#elementor-preview-iframe");a.length&&a.on("load",(function(){$(a.get(0).contentDocument).on("keydown",(function(a){c(a)}))}))},d.checkTheme=function(){switch(localStorage.adminQuickbarTheme){case"light":$(".admin-quickbar-theme select").val("light"),$("body").removeClass("admin-quickbar-is-darkmode");break;case"dark":$(".admin-quickbar-theme select").val("dark"),$("body").addClass("admin-quickbar-is-darkmode");break;case"auto":default:$(".admin-quickbar-theme select").val("auto");let a=window.matchMedia("(prefers-color-scheme: dark)").matches,e=window.matchMedia("(prefers-color-scheme: light)").matches,i=window.matchMedia("(prefers-color-scheme: no-preference)").matches,t=!a&&!e&&!i;a||t||i?$("body").addClass("admin-quickbar-is-darkmode"):$("body").removeClass("admin-quickbar-is-darkmode")}localStorage.adminQuickbarTheme||"true"!==localStorage.adminQuickbarDarkmode||$("body").addClass("admin-quickbar-is-darkmode")},d.initHiddenPostTypes=function(){void 0===localStorage.adminQuickbarHiddenPostTypes&&(localStorage.adminQuickbarHiddenPostTypes="[]");let a=JSON.parse(localStorage.adminQuickbarHiddenPostTypes);$(".aqm-hide-posttypes").val(a),d.hidePostTypes()},d.updateHiddenPostTypes=function(){localStorage.adminQuickbarHiddenPostTypes=JSON.stringify($(".aqm-hide-posttypes").val()),d.hidePostTypes()},d.hidePostTypes=function(){let a=JSON.parse(localStorage.adminQuickbarHiddenPostTypes);$(".admin-quickbar-postlist").removeClass("hidden");for(let e in a)$('.admin-quickbar-postlist[data-post-type="'+a[e]+'"]').addClass("hidden")},d.changeLanguageFilter=function(a){let e=$(a.currentTarget).data("language-code");localStorage.adminQuickbarLanguageFilter=e,d.setLanguageSwitchActiveClass(),d.hideByLanguage()},d.hideByLanguage=function(){let a=localStorage.adminQuickbarLanguageFilter;$(".admin-quickbar-post").removeClass("hidden-by-language"),"all"!=a&&$(".admin-quickbar-post .language-flag").each((function(e,i){(i=$(i)).data("language-code")!==a&&i.closest(".admin-quickbar-post").addClass("hidden-by-language")}))},d.setLanguageSwitchActiveClass=function(){let a=localStorage.adminQuickbarLanguageFilter;$(".admin-quickbar .language-switch .language-all,.admin-quickbar .language-switch .language-flag").removeClass("active"),$('.admin-quickbar .language-switch [data-language-code="'+a+'"]').addClass("active")},d.changeTab=function(a){let e=$(a.currentTarget),i=e.data("tab");$(".aqb-tab-button, .aqb-tab").removeClass("active"),e.addClass("active"),$(".aqb-tab-"+i).addClass("active")},c=function(a){if(!a.ctrlKey&&!a.metaKey||!a.shiftKey)return;let e=a.key?a.key.toLowerCase():"";if(!e&&a.keyCode)switch(a.keyCode){case 60:case 220:e="<";break;case 70:e="f"}switch(e){case"f":$("body").hasClass("admin-quickbar-visible")||d.toggleSidebar(),$("#aqb-search").focus();break;case">":case"<":case"|":a.preventDefault(),d.toggleSidebar()}},n=function(){let a=[];void 0!==localStorage.adminQuickbarFavorites&&(a=JSON.parse(localStorage.adminQuickbarFavorites));for(let e in a){let i=$(".admin-quickbar-post[data-postid="+a[e]+"]");i.addClass("is-favorite");let t=i.first().clone();t.css({marginLeft:""}),$(".aqb-favorites .admin-quickbar-postlist-inner").append(t)}},d.checkOverlap=function(a){localStorage.adminQuickbarOverlap=$(".admin-quickbar-overlap input").is(":checked"),"true"===localStorage.adminQuickbarOverlap?$("body").addClass("admin-quickbar-is-overlap"):$("body").removeClass("admin-quickbar-is-overlap")},d.checkTrash=function(a){localStorage.adminQuickbarShowTrash=$(".admin-quickbar-show-trash-option input").is(":checked"),"true"===localStorage.adminQuickbarShowTrash?$("body").addClass("admin-quickbar-show-trash"):$("body").removeClass("admin-quickbar-show-trash")},d.changeTheme=function(a){localStorage.adminQuickbarTheme=$(".admin-quickbar-theme select").val(),d.checkTheme()},d.checkThumbs=function(a){localStorage.adminQuickbarLoadthumbs=$(".admin-quickbar-loadthumbs input").is(":checked"),"true"===localStorage.adminQuickbarLoadthumbs?($(".admin-quickbar-loadthumbs input").prop("checked",!0),d.loadThumbs()):$(".admin-quickbar .wp-post-image").prop("src","")},d.toggleSidebar=function(){$(".admin-quickbar").toggleClass("toggle"),$("body").toggleClass("admin-quickbar-visible"),localStorage.adminQuickbarToggle=$(".admin-quickbar").hasClass("toggle")},d.togglePostTypes=function(a){$(a.target).parent().toggleClass("show-list"),t()},t=function(){let a={};$(".admin-quickbar-postlist").each((function(e,i){a[$(i).data("post-type")]=$(i).hasClass("show-list")})),localStorage.postList=JSON.stringify(a)},d.getPostListStorage=function(){return localStorage.postList&&"string"==typeof localStorage.postList||(localStorage.postList="{}"),JSON.parse(localStorage.postList)},d.loadThumbs=function(){$(".admin-quickbar .wp-post-image").each((function(a,e){$(e).prop("src",$(e).data("src"))}))},a()},AdminQuickbarContextMenu=function(){let a,e,i,t,n,o,s,c,r,d,l=window.document;d=function(){$(l).on("contextmenu",".aqb-icon",(function(a){a.stopPropagation()})),$(l).on("contextmenu",".admin-quickbar-post",e),$(l).on("click",a),$(l).on("click",".aqb-icon-swift",AdminQuickbarActions.checkSwiftCache),$(l).on("click",".aqb-icon-external",AdminQuickbarActions.openWindow)},e=function(a){a.preventDefault();let e=$(a.currentTarget),t=$(".admin-quickbar-contextmenu"),n=$(".admin-quickbar-inner").scrollTop()+e.offset().top-$(".admin-quickbar").offset().top+35;t.data("postid",e.data("postid")),i(e.data("contextmenu")),t.css({top:n+"px"}),t.addClass("open")},i=function(a){let e=$(".admin-quickbar-contextmenu");e.html("");for(let i in a)switch(i){case"favorite":e.append(o(a[i]));break;case"copy":e.append(t(a[i]));break;case"swift":e.append(n(a[i]));break;case"trash":e.append(s(a[i]));break;case"rename":e.append(c(a[i]))}},n=function(a){let e,i=$('<div class="item has-sub item-swift" />');$(".admin-quickbar-contextmenu");return i.append('<span class="label">Swift</span>'),e=$('<div class="item subitem" />'),e.addClass("aqb-icon aqb-icon-swift"),a.inCache&&e.addClass("is-in-cache"),e.prop("title","Refresh swift cache"),e.data("url",a.permalink),i.append(e),i},s=function(a){let e,i=$('<div class="item has-sub item-trash" />'),t=$(".admin-quickbar-contextmenu").data("postid");return i.append('<span class="label">(Un)Trash</span>'),e=$('<div class="item subitem" />'),e.addClass("aqb-icon aqb-icon-trash"),e.prop("title","(Un)Trash"),i.on("click",(function(a){AdminQuickbarActions.trashPost(a,t)})),i.append(e),i},c=function(a){let e,i=$('<div class="item has-sub item-rename" />'),t=$(".admin-quickbar-contextmenu").data("postid");return i.append('<span class="label">Rename</span>'),e=$('<div class="item subitem" />'),e.addClass("aqb-icon aqb-icon-rename"),e.prop("title","Rename"),i.on("click",(function(a){AdminQuickbarActions.startRenamePost(a,t)})),i.append(e),i},o=function(a){let e,i=$('<div class="item has-sub item-favorite" />'),t=$(".admin-quickbar-contextmenu").data("postid"),n=$(".admin-quickbar-post[data-postid="+t+"]");return i.append('<span class="label">Favorite</span>'),e=$('<div class="item subitem aqb-icon" />'),e.addClass("aqb-icon aqb-icon-favorite"),n.hasClass("is-favorite")?(e.addClass("aqb-icon-favorite-alt"),e.prop("title","Remove from favorites"),i.on("click",(function(a){AdminQuickbarActions.removeFromFavorites(t)}))):(e.addClass("aqb-icon-favorite"),e.prop("title","Add to favorites"),i.on("click",(function(a){AdminQuickbarActions.addToFavorites(t)}))),i.append(e),i},t=function(a){let e,i,t=$('<div class="item has-sub item-copy" />');t.append('<span class="label">Copy</span>');for(let n in a)a[n]&&(i=$('<div class="item subitem" />'),i.on("click",(function(a){a.stopPropagation();let e=$(a.currentTarget).find("input");e.focus(),e.select(),document.execCommand("copy")})),i.addClass("item-"+n),i.addClass("aqb-icon aqb-icon-"+n),r(i,n),e=$('<input type="text" class="hidden-copy-input" />'),e.val(a[n]),i.append(e),t.append(i));return t},a=function(){$(".admin-quickbar-contextmenu").removeClass("open")},r=function(a,e){let i;switch(e){case"id":i="ID";break;case"wordpress":i="WP-Edit-URL";break;case"elementor":i="Elementor-URL";break;case"shortcode":i="Elementor Shortcode";break;case"website":i="Website-URL";break;default:i=e.charAt(0).toUpperCase()+e.slice(1)}a.prop("title",i)},d()},AdminQuickbarSearch=function(){let a,e,i,t,n,o=window,s=o.document;n=function(){$((function(a){t()})),$(s).on("keyup input change","#aqb-search",a)},t=function(){i(),a()},a=function(a){let t=$("#aqb-search").val().toLowerCase(),n=$(".admin-quickbar-post");n.removeClass("aqb-search-hidden"),n.each((function(a,e){let i=$(e),n=i.find(".label").text().toLowerCase(),o=i.data("postid");-1===n.indexOf(t)&&o!==parseInt(t)&&i.addClass("aqb-search-hidden")})),e(),t.length||i()},e=function(){let a=$(".admin-quickbar-postlist");a.removeClass("aqb-search-hidden"),a.each((function(a,e){let i=$(e);i.find(".admin-quickbar-post:not(.aqb-search-hidden)").length?i.addClass("show-list"):i.addClass("aqb-search-hidden")}))},i=function(){let a=o.adminQuickbarInstance.getPostListStorage(),e=$(".admin-quickbar-postlist");e.removeClass("show-list"),e.each((function(e,i){a[$(i).data("post-type")]&&$(i).addClass("show-list")}))},n()};"undefined"==typeof $&&(window.$=jQuery),window.adminQuickbarInstance=new AdminQuickbar;